/*! For license information please see index.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tagify=t():e.Tagify=t()}(self,(function(){return function(){var e={551:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWordBlockNodes=t.createEmailBlockNodes=t.insertBefore=t.appendChildren=t.createWordBlockNode=t.createEmailBlockNode=t.createNode=void 0;t.createNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");return n?r.innerHTML=e:r.innerText=e,r.className=t,r};t.createEmailBlockNode=function(e){return t.createNode(e,"block block__tag block__tag--email")};t.createWordBlockNode=function(e){return t.createNode(e,"block block__tag block__tag--word")};t.appendChildren=function(e,t){for(var n=0;n<t.length;n++)e.appendChild(t[n])};t.insertBefore=function(e,t,n){for(var r=0;r<t.length;r++)e.insertBefore(t[r],n)};t.createEmailBlockNodes=function(e){return e.map(t.createEmailBlockNode)};t.createWordBlockNodes=function(e){return e.map(t.createWordBlockNode)}},989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(655),a=n(551),i=n(204),c=o.__importDefault(n(112));!function(e){e[e.EMAIL=0]="EMAIL",e[e.WORD=1]="WORD"}(r||(r={}));var u="TAGIFY_STYLE",l=function(e){console.log("word",e);var t=i.extractEmails(e);return console.log("emails",t),{type:t.length?r.EMAIL:r.WORD,values:t.length?t:[e]}},f=function(e){return e.scrollTop=e.scrollHeight},s=function(e){e.className=e.className+"tagify form";var t=a.createNode("","blocks");e.appendChild(t);var n=document.createElement("input");n.className="blocks__input",n.placeholder="add more people",t.appendChild(n);var o=document.querySelector("head"),s=!!document.querySelector("#"+u);if(o&&!s){var d=document.createElement("style");d.innerHTML=c.default.toString(),d.id=u,o.appendChild(d)}var p=function(e){e.target&&t.removeChild(e.target.parentNode)},y=function(e,t,n,o){for(var c,u,s,d=i.extractWords(e),y=0;y<d.length;y++){for(var v=d[y],h=l(v),b=h.type,_=h.values,m=[],g=0;g<_.length;g++){var w=b===r.EMAIL?a.createEmailBlockNode(_[g]):a.createWordBlockNode(_[g]);c=w,u=p,s=void 0,s=a.createNode("","block__close"),c.appendChild(s),s.addEventListener("mousedown",u),m.push(w)}a.insertBefore(t,m,n)}f(o)},v=function(r){var o=r.key.toLowerCase(),a=""===n.value.trim(),i=t.children.length>1,c=[",","enter"].indexOf(o)>-1,u=["del","backspace"].indexOf(o)>-1&&a&&i;if(c)y(n.value,t,n,e),n.value="";else if(u){var l=t.children.length-2,s=t.children[l];t.removeChild(s)}f(e)},h=function(r){r.preventDefault();var o=(r.clipboardData||window.clipboardData).getData("text");y(o,t,n,e),f(e)},b=function(){y(n.value,t,n,e),f(e),n.value=""};return n.addEventListener("blur",b),n.addEventListener("keyup",v),n.addEventListener("paste",h),{addEmail:function(r){return y(r,t,n,e)},getEmailCount:function(){return i.extractEmails(e.textContent||"").length},destroy:function(){n.removeEventListener("blur",b),n.removeEventListener("keyup",v),n.removeEventListener("paste",h)}}};t.default=s,e.exports=s},204:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractEmails=t.extractWords=void 0;t.extractWords=function(e){return e.match(/([^,\s]+)/gi)||[]};t.extractEmails=function(e){return e.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi)||[]}},655:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return o},__assign:function(){return a},__rest:function(){return i},__decorate:function(){return c},__param:function(){return u},__metadata:function(){return l},__awaiter:function(){return f},__generator:function(){return s},__createBinding:function(){return d},__exportStar:function(){return p},__values:function(){return y},__read:function(){return v},__spread:function(){return h},__spreadArrays:function(){return b},__await:function(){return _},__asyncGenerator:function(){return m},__asyncDelegator:function(){return g},__asyncValues:function(){return w},__makeTemplateObject:function(){return x},__importStar:function(){return k},__importDefault:function(){return O},__classPrivateFieldGet:function(){return E},__classPrivateFieldSet:function(){return j}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function c(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)r[o]=a[i];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function m(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=o[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,l):f(a[0][2],n)}catch(e){f(a[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function g(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function j(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},112:function(e,t,n){(t=n(609)(!1)).push([e.id,".block {\n}\n\n.tagify.form {\n  /* max-width: 500px; */\n  background: yellow;\n  display: flex;\n  flex-direction: row;\n}\n\n.tagify .block {\n  position: relative;\n}\n\n.tagify .block.block__tag {\n  padding: 5px;\n  margin: 5px;\n  border-radius: 25px;\n}\n.tagify .block.block__tag--email {\n  background-color: red;\n}\n.tagify .block.block__tag--word {\n  background-color: none;\n}\n\n.tagify .block__close {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 15px;\n  height: 15px;\n  /* background: url('data:image/svg+xml; ... '); */\n}\n\n.tagify .blocks {\n  display: flex;\n  flex: 1 0 100%;\n  flex-wrap: wrap;\n}\n\n.tagify .blocks__input {\n  height: 35px;\n  background: red;\n  border: 0;\n  flex: 1 1 0%;\n  min-width: 100px;\n}\n.tagify .blocks__input:focus {\n  outline: none;\n}\n",""]),e.exports=t},609:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([o]).join("\n")}var i,c,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(989)}()}));