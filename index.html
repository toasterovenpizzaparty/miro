<!DOCTYPE html>
    <html>
    <head>
        <title>Tagify editor.</title>
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
        Hi world

        <div id="tagify-me"></div>
        <button id="button-add-email" class="client button button__primary">Add email</button>
        <button id="button-get-email-count" class="client button button__primary">Get emails count</button>
        <script type="text/javascript" src="./tag-emails-input/dist/index.js"></script>
        <script type="text/javascript">
            
            function Bootstrap() {
                console.log("Hi world.");

                const targetElement = document.querySelector("#tagify-me");
                if (targetElement) {
                    console.log('Got target', targetElement)
                    const tagifiedInstance = Tagify(targetElement);
                    
                    const buttonAddEmails = document.querySelector("#button-add-email")
                    const buttonGetEmailCount = document.querySelector("#button-get-email-count")

                    const randomEmails = [
                        "patrick@miro.com",
                        "john@miro.com",
                        "jack@miro.com",
                        "max@miro.com",
                        "giselle@miro.com",
                        "jackie@miro.com",
                        "ivan@miro.com",
                    ];
    
                    buttonAddEmails.addEventListener("mousedown", function() { tagifiedInstance.addEmail(randomEmails[Math.floor(Math.random() * (randomEmails.length - 1))]) }) 
                    buttonGetEmailCount.addEventListener("mousedown", function() { window.alert( "Email count is: " + tagifiedInstance.getEmailCount()) }); 
                }


            };

            function onDocumentReady(fn) {
                if (document.readyState != "loading") {
                    fn();
                } else {
                    document.addEventListener("DOMContentLoaded", fn);
                }
            };

            onDocumentReady(Bootstrap);
        </script>
    </body>
</html>